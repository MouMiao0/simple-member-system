generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model employee {
  id           Int      @id @unique(map: "sqlite_autoindex_employee_1") @default(autoincrement())
  name         String?
  phone        Int      @unique(map: "sqlite_autoindex_employee_2")
  salary       Int?
  created_time DateTime?
  logs         logs[]
}

model goods {
  id           Int      @id @unique(map: "sqlite_autoindex_goods_1") @default(autoincrement())
  name         String   @unique(map: "sqlite_autoindex_goods_2")
  price        Int?
  count        Int?
  created_time DateTime?
  logs         logs[]
}

model logs {
  id           Int       @id @unique(map: "sqlite_autoindex_logs_1") @default(autoincrement())
  operation    Int
  e_id         Int?
  m_id         Int?
  g_id         Int?
  amount       Int?
  created_time DateTime?
  goods        goods?    @relation(fields: [g_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  member       member?   @relation(fields: [m_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  employee     employee? @relation(fields: [e_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model member {
  id            Int      @id @unique(map: "sqlite_autoindex_member_1") @default(autoincrement())
  name          String?
  phone         Int?     @unique(map: "sqlite_autoindex_member_2")
  sex           Bytes?
  credit        Int?
  created_time  DateTime?
  month_consume Int?
  sum_consume   Int?
  consum_count  Int?
  logs          logs[]
}

model user {
  id   Int     @id @unique(map: "sqlite_autoindex_user_1") @default(autoincrement())
  name String?
  pw   String?
}
